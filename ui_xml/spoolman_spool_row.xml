<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<component>
  <!-- Root row container (clickable for selection) -->
  <view name="spoolman_spool_row"
        extends="lv_obj" width="100%" height="content" style_bg_color="#card_bg" style_bg_opa="255"
        style_radius="#border_radius" style_border_width="0" style_pad_all="#space_md" scrollable="false"
        flex_flow="row" style_flex_cross_place="center" style_pad_gap="#space_md" clickable="true">
    <!-- LEFT: 3D Spool Canvas (48x48 fixed size) -->
    <spool_canvas name="spool_canvas" size="#button_height" color="0x808080" fill_level="0.5"/>
    <!-- MIDDLE: Material/Vendor Info (flex-grow to fill space) -->
    <lv_obj name="info_column"
            width="content" height="content" flex_grow="1" style_bg_opa="0" style_border_width="0" style_pad_all="0"
            scrollable="false" flex_flow="column" style_pad_gap="#space_xs">
      <!-- Material + Color Name (e.g., "PLA - Jet Black") -->
      <text_body name="spool_name"
                 width="100%" text="PLA - Black" style_text_color="#text_primary" long_mode="dots" style_pad_all="0"
                 clickable="false"/>
      <!-- Vendor Name -->
      <text_small name="spool_vendor"
                  width="100%" text="Polymaker" style_text_color="#text_secondary" long_mode="dots" style_pad_all="0"
                  clickable="false"/>
    </lv_obj>
    <!-- RIGHT: Weight Metrics (right-aligned, fixed width) -->
    <lv_obj name="weight_column"
            width="80" height="content" style_bg_opa="0" style_border_width="0" style_pad_all="0" scrollable="false"
            flex_flow="column" style_flex_cross_place="end" style_pad_gap="#space_xs">
      <!-- Remaining Weight (e.g., "850g") -->
      <text_body name="weight_text"
                 width="100%" text="850g" style_text_color="#text_primary" style_text_align="right" style_pad_all="0"
                 clickable="false"/>
      <!-- Percentage (e.g., "85%") -->
      <text_small name="percent_text"
                  width="100%" text="85%" style_text_color="#text_secondary" style_text_align="right" style_pad_all="0"
                  clickable="false"/>
    </lv_obj>
    <!-- FAR RIGHT: Low-Stock Warning (conditional, hidden by default) -->
    <icon name="low_stock_indicator" src="alert_octagon" size="sm" variant="warning" hidden="true" clickable="false"/>
    <!-- Active Selection Indicator (hidden by default) -->
    <icon name="active_indicator" src="check_circle" size="sm" variant="success" hidden="true" clickable="false"/>
    <!-- Click event for row selection -->
    <event_cb trigger="clicked" callback="on_spoolman_spool_row_clicked"/>
  </view>
</component>
