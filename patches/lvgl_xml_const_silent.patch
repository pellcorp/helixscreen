diff --git a/src/xml/lv_xml.c b/src/xml/lv_xml.c
index eb2d72d97..65949cdf0 100644
--- a/src/xml/lv_xml.c
+++ b/src/xml/lv_xml.c
@@ -573,7 +573,7 @@ lv_result_t lv_xml_register_const(lv_xml_component_scope_t * scope, const char *
     return LV_RESULT_OK;
 }
 
-const char * lv_xml_get_const(lv_xml_component_scope_t * scope, const char * name)
+static const char * lv_xml_get_const_internal(lv_xml_component_scope_t * scope, const char * name, bool silent)
 {
 
     if(scope == NULL) scope = lv_xml_component_get_scope("globals");
@@ -596,10 +596,22 @@ const char * lv_xml_get_const(lv_xml_component_scope_t * scope, const char * nam
         }
     }
 
-    LV_LOG_WARN("No constant was found with name \"%s\".", name);
+    if(!silent) {
+        LV_LOG_WARN("No constant was found with name \"%s\".", name);
+    }
     return NULL;
 }
 
+const char * lv_xml_get_const(lv_xml_component_scope_t * scope, const char * name)
+{
+    return lv_xml_get_const_internal(scope, name, false);
+}
+
+const char * lv_xml_get_const_silent(lv_xml_component_scope_t * scope, const char * name)
+{
+    return lv_xml_get_const_internal(scope, name, true);
+}
+
 
 lv_result_t lv_xml_register_image(lv_xml_component_scope_t * scope, const char * name, const void * src)
 {
@@ -749,8 +761,9 @@ static void resolve_params(lv_xml_component_scope_t * item_scope, lv_xml_compone
             const char * ext_value = lv_xml_get_value_of(parent_attrs, name_clean);
             if(ext_value) {
                 /*If the value is not resolved earlier (e.g. it's a top level element created manually)
-                 * use the default value*/
-                if(ext_value[0] == '#' || ext_value[0] == '$') {
+                 * use the default value. Note: Only check for '$' (unresolved props), not '#' which
+                 * indicates const/token references that will be resolved by resolve_consts later.*/
+                if(ext_value[0] == '$') {
                     ext_value = get_param_default(item_scope, name_clean);
                 }
                 else if(lv_streq(type, "style")) {
@@ -775,6 +788,26 @@ static void resolve_params(lv_xml_component_scope_t * item_scope, lv_xml_compone
     }
 }
 
+/**
+ * Check if a string is a valid hex color (exactly 6 hex digits).
+ * This allows values like "#1F1F1F" to pass through without being
+ * treated as const references after prop substitution.
+ */
+static bool is_hex_color(const char * str)
+{
+    if(str == NULL) return false;
+    size_t len = lv_strlen(str);
+    if(len != 6) return false;
+    for(size_t i = 0; i < 6; i++) {
+        char c = str[i];
+        bool is_hex = (c >= '0' && c <= '9') ||
+                      (c >= 'a' && c <= 'f') ||
+                      (c >= 'A' && c <= 'F');
+        if(!is_hex) return false;
+    }
+    return true;
+}
+
 static void resolve_consts(const char ** item_attrs, lv_xml_component_scope_t * scope)
 {
     uint32_t i;
@@ -785,6 +818,12 @@ static void resolve_consts(const char ** item_attrs, lv_xml_component_scope_t *
         if(value[0] == '#') {
             const char * value_clean = &value[1];
 
+            /*If the value is already a hex color (e.g. "#1F1F1F" from prop substitution),
+             *don't try to look it up as a const - pass it through unchanged*/
+            if(is_hex_color(value_clean)) {
+                continue;  /*Keep original value with #*/
+            }
+
             const char * const_value = lv_xml_get_const(scope, value_clean);
             if(const_value) {
                 item_attrs[i + 1] = const_value;
diff --git a/src/xml/lv_xml.h b/src/xml/lv_xml.h
index 51dce09df..efa58a4e7 100644
--- a/src/xml/lv_xml.h
+++ b/src/xml/lv_xml.h
@@ -113,6 +113,15 @@ lv_result_t lv_xml_register_const(lv_xml_component_scope_t * scope, const char *
 
 const char * lv_xml_get_const(lv_xml_component_scope_t * scope, const char * name);
 
+/**
+ * Get a constant value by name without logging a warning if not found.
+ * Useful for probing whether a constant exists before falling back to alternatives.
+ * @param scope     the component scope (NULL for globals)
+ * @param name      constant name to look up
+ * @return          the constant value or NULL if not found (no warning logged)
+ */
+const char * lv_xml_get_const_silent(lv_xml_component_scope_t * scope, const char * name);
+
 lv_result_t lv_xml_register_event_cb(lv_xml_component_scope_t * scope, const char * name, lv_event_cb_t cb);
 
 lv_event_cb_t lv_xml_get_event_cb(lv_xml_component_scope_t * scope, const char * name);
